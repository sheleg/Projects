<!-- <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
</head>


<body>
<div>
    <table style="empty-cells:hide;">
        <tr>
            <td class="center cl-td">
                Выберите регион:<br>
                <select id="regions" onclick="insertValues()">
                    <option id="1" name="region" value="Minsk"> Минский район
                    <option id="2" name="region" value="Brest"> Брестский район
                    <option id="3" name="region" value="Vitebsk"> Витебский район
                    <option id="4" name="region" value="Gomel"> Гомельский район
                    <option id="5" name="region" value="Mogilev"> Могилевский район
                    <option id="6" name="region" value="Grodno"> Гродненский район
                </select>
            </td>
        </tr>
        <tr>
            <td class="center cl-td">
                Выберите город:<br>
                <select id="cities" onclick="getRestaurants()"></select>
            </td>
        </tr>
        <tr>
            <td class="card-td">
                <div class="container" id="restaurants">
                    <!--<div class="col-md-10">-->
                        <!--<div class="card" align="center">-->
                            <!--<div class="row">-->
                                <!--<div class="col-md-4">-->
                                    <!--<img src="http://iphex-india.com/assets/images/nologo.png">-->
                                <!--</div>-->
                                <!--<div class="col-md-8">-->
                                    <!--<div class="card-block px-5">-->
                                        <!--<h5 class="card-title center"><a href="https://carte.by">Carte</a></h5>-->
                                        <!--<h6 class="card-title">Адрес</h6>-->
                                        <!--<span class="badge badge-success right">Доставка</span>-->
                                        <!--<span class="badge badge-info right">Бронь</span>-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                <!-- </div>
            </td>
        </tr>
    </table> -->


    <!-- <div id="data"></div>
</div>

</body>


<script>
    function insertValues() {
        var regions = document.getElementById("regions");
        var select = document.getElementById("cities"); -->
        <!-- var id = regions.options[regions.selectedIndex].id;

        var request = new XMLHttpRequest();
        request.open('Get', 'http://localhost:3000/regions/' + id + "/cities");

        request.send();


        request.onreadystatechange = function () {
            if (request.readyState === 4) {
                if (request.status === 200) {
                    var cities = JSON.parse(request.responseText);
                    select.innerHTML = null;
                    cities.forEach(function (city) {
                        var txtVal = city.name,
                            newOption = document.createElement("OPTION"),
                            newOptionVal = document.createTextNode(txtVal);
                        if (city.active == false) {
                            newOption.disabled = true;
                        }
                        newOption.appendChild(newOptionVal);
                        newOption.setAttribute("id", String(city.id));
                        select.insertBefore(newOption, select.lastChild);
                    });

                } else {
                    data.innerHTML = 'Произошла ошибка при запросе: ' + request.status + ' ' + request.statusText;
                }
            }
        }
    }

    function getRestaurants() {
        var cities = document.getElementById("cities");
        var regions = document.getElementById("regions");
        var rests = document.getElementById("restaurants");
        rests.innerHTML = null;
        var region_id = regions.options[regions.selectedIndex].id;
        var city_id = cities.options[cities.selectedIndex].id;

        var request = new XMLHttpRequest();
        request.open('Get', 'http://localhost:3000/regions/' + region_id + "/cities/" + city_id + "/restaurants");

        request.send();

        request.onreadystatechange = function () {
            if (request.readyState === 4) {
                if (request.status === 200) {
                    var restaurants = JSON.parse(request.responseText);
                    restaurants.forEach(function (restaurant) {
                        var sizeCol = document.createElement("div");
                        sizeCol.className = "col-md-10";

                        var newCard = document.createElement("div");
                        newCard.className = "card";

                        var newRow = document.createElement("div");
                        newRow.className = "row";

                        var newCol1 = document.createElement("div");
                        newCol1.className = "col-md-4";

                        var img = new Image;
                        img.src = "http://iphex-india.com/assets/images/nologo.png";
                        if (restaurant.logo)
                            img.src = restaurant.logo;
                        img.setAttribute("height", "150");
                        img.setAttribute("width", "200");

                        newCol1.appendChild(img);

                        var newCol2 = document.createElement("div");
                        newCol2.className = "col-md-8";

                        var newCardBlock = document.createElement("div");
                        newCardBlock.className = "card-block px-5";

                        var h5 = document.createElement("h5");
                        h5.className = "card-title center";

                        var link = document.createElement("a");
                        link.setAttribute("href", 'http://localhost:3000/regions/' + region_id + "/cities/"
                            + city_id + "/restaurants/" + restaurant.id);
                        var textLink = document.createTextNode(restaurant.name);
                        link.appendChild(textLink);

                        h5.appendChild(link);

                        var h6 = document.createElement("h6");
                        h6.className = "card-title";
                        var texth6 = document.createTextNode(restaurant.address);
                        h6.setAttribute("align", "right");
                        h6.appendChild(texth6);


                        newCol2.appendChild(h5);
                        newCol2.appendChild(h6);

                        var labelh6 = document.createElement("h6");
                        labelh6.setAttribute("align", "right");

                        if (restaurant.orderable == true) {
                            var spanD = document.createElement("span");
                            spanD.className = "badge badge-success";
                            var textD = document.createTextNode("Доставка");
                            spanD.appendChild(textD)
                            // newCol2.appendChild(spanD);
                            labelh6.appendChild(spanD)
                            // h5.appendChild(spanD);
                        }

                        if (restaurant.bookable == true) {
                            var spanB = document.createElement("span");
                            spanB.className = "badge badge-info";
                            var textB = document.createTextNode("Бронь");
                            spanB.appendChild(textB);
                            // newCol2.appendChild(spanB);
                            labelh6.appendChild(spanB)

                            // h5.appendChild(spanB);
                        }

                        newCol2.appendChild(labelh6);

                        newRow.appendChild(newCol1);
                        newRow.appendChild(newCol2);
                        newCard.appendChild(newRow);
                        sizeCol.appendChild(newCard)
                        rests.insertBefore(sizeCol, rests.lastChild);
                    });

                } else {
                    data.innerHTML = 'Произошла ошибка при запросе: ' + request.status + ' ' + request.statusText;
                }
            }
        }
    }
</script> -->


<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <environment include="Development">
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
        <link rel="stylesheet" href="~/css/site.css" />
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/css/bootstrap.min.css"
              asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
              asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute" />
        <link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
    </environment>
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand">Carte</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a>Home</a></li>
                    <li><a>About</a></li>
                    <li><a>Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container body-content">
        @RenderBody()
        <hr />
        <footer>
            <p>&copy; 2018 - Carte</p>
        </footer>
    </div>

    <environment include="Development">
        <script src="~/lib/jquery/dist/jquery.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"
                asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
                asp-fallback-test="window.jQuery"
                crossorigin="anonymous"
                integrity="sha384-K+ctZQ+LL8q6tP7I94W+qzQsfRV2a+AfHIi9k8z8l9ggpc8X+Ytst4yBo/hH+8Fk">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/bootstrap.min.js"
                asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
                asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
                crossorigin="anonymous"
                integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa">
        </script>
        <script src="~/js/site.min.js" asp-append-version="true"></script>
    </environment>

</body>
</html>
